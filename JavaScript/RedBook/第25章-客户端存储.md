---
title: 红宝书笔记系列之《第 25 章-客户端存储》
date: 2020-12-06 16:38:49
updated: 2020-12-06 16:38:49
categories: JavaScript
---

## Cookie

会话 cookie 浏览器关闭会清除
document.cookie = "name=2&"

设置过期 事件
document.cookie = `${name}=${value};expires=${date}`

cookie 只要遵守以下大致的限制（浏览器的限制不一样），就不会在浏览器中出现问题。

- 不超过 300 个 cookie。
- 每个 cookie 不超过 4096 字节。
- 每个域不超过 20 个 cookie。
- 每个域不超过 81920 字节。

cookie 和 sessionStore localStore 的区别

sessionStorage 对象只存储会话数据，关闭浏览器会清除，这跟 会话 cookie 类似。

```js

```

localStorage 持久化的数据存储，即不会随浏览器关闭清除，也没有过期时间。它和 sessionStorage 有同样的 api。

```js

```

存储事件

每当 Storage 对象发生变化时，都会触发 storage 事件。

```js
window.addEventListener("storage", function (event) {
  // domain: 存储变化对应的域
  // key 被设置或删除的键
  // newValue: 键被设置的新值，若键被删除则为 Null
  // oldValue: 键变化之前的值。
});
```
